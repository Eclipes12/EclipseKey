local EclipseLib = {}
EclipseLib.__index = EclipseLib

-- Default settings
EclipseLib.Settings = {
    Theme = {
        BackgroundColor = Color3.fromRGB(30, 30, 30),
        ButtonColor = Color3.fromRGB(45, 45, 45),
        TextColor = Color3.fromRGB(255, 255, 255),
        CornerRadius = UDim.new(0, 5)
    }
}

-- Store created elements
EclipseLib.Elements = {}

-- Helper function to create UI components
local function create(instanceType, properties)
    local instance = Instance.new(instanceType)
    for prop, value in pairs(properties) do
        instance[prop] = value
    end
    return instance
end

-- Create a new window
function EclipseLib:MakeWindow(config)
    local screenGui = create("ScreenGui", {Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")})
    local mainFrame = create("Frame", {
        Parent = screenGui,
        Size = UDim2.new(0, 500, 0, 300),
        BackgroundColor3 = self.Settings.Theme.BackgroundColor,
        AnchorPoint = Vector2.new(0.5, 0.5),
        Position = UDim2.new(0.5, 0, 0.5, 0)
    })

    local uiCorner = create("UICorner", {
        Parent = mainFrame,
        CornerRadius = self.Settings.Theme.CornerRadius
    })

    local title = create("TextLabel", {
        Parent = mainFrame,
        Size = UDim2.new(1, 0, 0, 50),
        BackgroundTransparency = 1,
        Text = config.Name or "Eclipse Hub",
        TextColor3 = self.Settings.Theme.TextColor,
        Font = Enum.Font.SourceSansBold,
        TextSize = 20
    })

    -- Add intro animation if enabled
    if config.IntroEnabled then
        local introFrame = create("Frame", {
            Parent = screenGui,
            Size = UDim2.new(1, 0, 1, 0),
            BackgroundColor3 = self.Settings.Theme.BackgroundColor
        })

        local introLabel = create("TextLabel", {
            Parent = introFrame,
            Text = config.IntroText or "Welcome!",
            TextColor3 = self.Settings.Theme.TextColor,
            Font = Enum.Font.SourceSansBold,
            TextSize = 36,
            BackgroundTransparency = 1,
            Size = UDim2.new(1, 0, 1, 0),
            AnchorPoint = Vector2.new(0.5, 0.5),
            Position = UDim2.new(0.5, 0, 0.5, 0)
        })

        wait(2)
        introFrame:Destroy()
    end

    return mainFrame
end

return EclipseLib
